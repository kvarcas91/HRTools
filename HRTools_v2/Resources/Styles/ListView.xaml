<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
                    xmlns:converters="clr-namespace:HRTools_v2.Converters"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml">

    <!-- Base ListView Style -->
    <Style x:Key="ListView" TargetType="{x:Type ListView}" BasedOn="{StaticResource MaterialDesignListView}">
        <Setter Property="Background" Value="Transparent"/>
        <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Disabled"/>
        <Setter Property="ScrollViewer.CanContentScroll" Value="False"/>
        <Setter Property="BorderThickness" Value="0"/>
    </Style>

    <Style x:Key="ListViewOnMouseOverDisabled" TargetType="{x:Type ListView}" BasedOn="{StaticResource ListView}">
        <!-- Disable onMouseOver and default style -->
        <Setter Property="ItemContainerStyle">
            <Setter.Value>
                <Style TargetType="ListViewItem">
                    <Setter Property="HorizontalContentAlignment" Value="Stretch" />
                    <Setter Property="Template">
                        <Setter.Value>
                            <ControlTemplate TargetType="{x:Type ListViewItem}">
                                <ContentPresenter />
                            </ControlTemplate>
                        </Setter.Value>
                    </Setter>
                </Style>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="CommentsListView" TargetType="{x:Type ListView}" BasedOn="{StaticResource ListViewOnMouseOverDisabled}">
        <Setter Property="ItemTemplate">
            <Setter.Value>
                <DataTemplate>
                    <Border Background="Transparent"
                            x:Name="container">
                        <Grid
                        Margin="10 5">
                            <Grid.RowDefinitions>

                                <!-- submition date -->
                                <RowDefinition Height="Auto"/>

                                <!-- content -->
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <Grid Grid.Row="0">
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="Auto"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>

                                <Border Width="30" Height="30"  CornerRadius="50" BorderBrush="DarkSlateGray" 
                                        Background="{StaticResource Background}"
                                BorderThickness="1">
                                    <TextBlock HorizontalAlignment="Center" 
                                       VerticalAlignment="Center"
                                       Text="{Binding CreatedBy, Converter={converters:LoginToInitialsConverter}}"
                                        FontSize="16"/>
                                </Border>

                                <StackPanel Orientation="Vertical" Grid.Column="1" Margin="10 0 0 0">

                                    <TextBlock 
                                    Style="{StaticResource MaterialDesignOverlineTextBlock}"
                                       Foreground="{DynamicResource PrimaryHueMidBrush}"
                                    Text="{Binding CreatedBy, Converter={converters:LoginToFullNameConverter}}"
                                        FontWeight="Bold"
                                        FontSize="14"/>

                                    <TextBlock Grid.Row="0"
                                    Style="{StaticResource MaterialDesignOverlineTextBlock}"
                                       Foreground="Gray"
                                           FontSize="10"
                                           Text="{Binding CreatedAt, Converter={converters:DateTimeToStringConverter}}"
                                           />

                                </StackPanel>

                                <materialDesign:PopupBox   Grid.Column="2"
                                           Margin="5 0" VerticalAlignment="Top">

                                    <materialDesign:PopupBox.ToggleContent >
                                        <materialDesign:PackIcon Kind="DotsVertical"
                                                    Margin="10 0"
                                                 ToolTip="Data options.."
                                                 Foreground="{DynamicResource PrimaryHueDarkBrush}"/>

                                    </materialDesign:PopupBox.ToggleContent>

                                    <Button Grid.Column="1"
                                Margin="0 -8"
                            Background="Transparent" 
                    materialDesign:ShadowAssist.ShadowEdges="None"
                    materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                        BorderBrush="DarkSlateGray"
                    BorderThickness="1"
                                            IsEnabled="{Binding CreatedBy, Converter={converters:LoginToIsActionActiveConverter}}"
                                 Command="{Binding ElementName=commentsListView, Path=DataContext.DeleteCommentCommand}"
                                            CommandParameter="{Binding}"
                    >
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="TrashOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"/>
                                            <TextBlock Margin="10 0 0 0" Text="Delete" Foreground="DarkSlateGray"
                                                   FontSize="12"/>
                                        </StackPanel>
                                    </Button>

                                </materialDesign:PopupBox>

                            </Grid>

                            <TextBlock Grid.Row="1"
                                   Text="{Binding Content}"
                                       Foreground="Gray"
                                       Margin="10 10 0 10"
                                       TextWrapping="Wrap" 
                                       TextTrimming="CharacterEllipsis"/>

                        </Grid>

                    </Border>
                </DataTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style  x:Key="SanctionsListView" TargetType="{x:Type ListView}" BasedOn="{StaticResource ListViewOnMouseOverDisabled}">
        <Setter Property="ItemTemplate">
            <Setter.Value>
                <DataTemplate>
                    <Grid Margin="5" HorizontalAlignment="Stretch">

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="3*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>

                        <!-- Sanction -->
                        <TextBlock Grid.Column="0"  VerticalAlignment="Center" >
                                    <StackPanel Orientation="Horizontal">
                                         <Ellipse Fill="{Binding SanctionEndDate, Converter={converters:IsDateActiveToColorConverter}}"
                                                 Width="5"
                                                 Height="5"
                                                  Margin="0 0 5 0"
                                                 VerticalAlignment="Center"/>
                                        <TextBlock Text="{Binding Sanction}"
                                           VerticalAlignment="Center" 
                                   TextDecorations="{Binding SanctionEndDate, Converter={converters:SanctionTextDecorationConverter}}"
                                       FontSize="{Binding SanctionEndDate, Converter={converters:SanctionTextSizeConverter}}"
                                   Foreground="{Binding SanctionEndDate, Converter={converters:SanctionTextForegroundConverter}}"
                                         Padding="0 0 5 2"/>
                                       
                                            
                                    </StackPanel>
                        </TextBlock>

                        <!-- Sanction Dates -->
                        <StackPanel Grid.Column="1" Orientation="Vertical"
                                            Margin="5">
                            <TextBlock 
                                   Text="{Binding SanctionStartDate, Converter={converters:DateTimeToStringConverter}, ConverterParameter=1}"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                            <TextBlock 
                                   Text="{Binding SanctionEndDate, Converter={converters:DateTimeToStringConverter}, ConverterParameter=1}"
                                TextDecorations="{Binding SanctionEndDate, Converter={converters:SanctionTextDecorationConverter}}"
                                       FontSize="{Binding SanctionEndDate, Converter={converters:SanctionTextSizeConverter}}"
                                   Foreground="{Binding SanctionEndDate, Converter={converters:SanctionTextForegroundConverter}}"/>

                        </StackPanel>

                        <Rectangle Grid.Column="2"
                                    VerticalAlignment="Stretch" 
                                           Fill="LightGray" Width="1"
                                           Margin="5 2"/>

                        <!-- Issued By -->
                        <StackPanel Grid.Column="3" Orientation="Vertical"
                                            Margin="5">
                            <TextBlock 
                                   Text="Recorded by"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                            <TextBlock 
                                   Text="{Binding CreatedBy, Converter={converters:LoginToFullNameConverter}}"
                                TextDecorations="{Binding SanctionEndDate, Converter={converters:SanctionTextDecorationConverter}}"
                                       FontSize="{Binding SanctionEndDate, Converter={converters:SanctionTextSizeConverter}}"
                                   Foreground="{Binding SanctionEndDate, Converter={converters:SanctionTextForegroundConverter}}"/>
                        </StackPanel>

                        <!-- Issued At -->
                        <StackPanel Grid.Column="4" Orientation="Vertical"
                                            Margin="5">
                            <TextBlock 
                                   Text="Issued At"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                            <TextBlock 
                                   Text="{Binding CreatedAt, Converter={converters:DateTimeToStringConverter}, ConverterParameter=1}"
                                TextDecorations="{Binding SanctionEndDate, Converter={converters:SanctionTextDecorationConverter}}"
                                       FontSize="{Binding SanctionEndDate, Converter={converters:SanctionTextSizeConverter}}"
                                   Foreground="{Binding SanctionEndDate, Converter={converters:SanctionTextForegroundConverter}}"/>
                        </StackPanel>

                        <Grid Grid.Column="5" Visibility="{Binding Overriden, Converter={StaticResource BooleanToVisibilityConverter}}">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <Rectangle Grid.Column="0"
                                    VerticalAlignment="Stretch" 
                                           Fill="LightGray" Width="1"
                                           Margin="5 2"/>

                            <!-- Overriden By -->
                            <StackPanel Grid.Column="1" Orientation="Vertical"
                                            Margin="5">
                                <TextBlock 
                                   Text="Overriden by"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"
                                   TextTrimming="WordEllipsis"/>
                                <TextBlock 
                                   Text="{Binding OverridenBy, Converter={converters:LoginToFullNameConverter}}"
                                FontSize="{StaticResource PrimaryListFontSize}"
                                   TextTrimming="WordEllipsis"/>
                            </StackPanel>

                            <!-- Issued At -->
                            <StackPanel Grid.Column="2" Orientation="Vertical"
                                            Margin="5">
                                <TextBlock 
                                   Text="Overriden At"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"
                                   TextTrimming="WordEllipsis"/>
                                <TextBlock 
                                   Text="{Binding OverridenAt, Converter={converters:DateTimeToStringConverter}, ConverterParameter=1}"
                                FontSize="{StaticResource PrimaryListFontSize}"
                                   TextTrimming="WordEllipsis"/>
                            </StackPanel>

                        </Grid>

                        <!-- Controls -->
                        <StackPanel Grid.Column="6"
                            Orientation="Horizontal"
                                    HorizontalAlignment="Right">

                            <Button 
                                ToolTip="Re-open sanction"
                                Command="{Binding ElementName=sanctionListView, Path=DataContext.OnSanctionReissueCommand}"
                                          CommandParameter="{Binding}"
                                        Style="{StaticResource MaterialDesignFlatButton}">
                                <materialDesign:PackIcon Kind="AccountReactivateOutline"/>
                            </Button>

                            <Button 
                                ToolTip="Override sanction"
                                Command="{Binding ElementName=sanctionListView, Path=DataContext.OnSanctionOverrideCommand}"
                                          CommandParameter="{Binding}"
                                        Style="{StaticResource MaterialDesignFlatButton}">
                                <materialDesign:PackIcon Kind="EditOff"/>
                            </Button>

                        </StackPanel>
                        
                       
                    </Grid>
                </DataTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style  x:Key="TimelineListView" TargetType="{x:Type ListView}" BasedOn="{StaticResource ListViewOnMouseOverDisabled}">
        <Setter Property="ItemTemplate">
            <Setter.Value>
                <DataTemplate>
                    <Grid HorizontalAlignment="Stretch" VerticalAlignment="Top">

                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="20"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Visual -->
                            <Grid>
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="*"/>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="*"/>
                                </Grid.RowDefinitions>

                                <Rectangle Grid.Row="0"
                                    VerticalAlignment="Stretch" 
                                           Fill="DarkSlateGray" Width="1"/>

                                <Grid Grid.Row="1">
                                    <Ellipse 
                                                         Width="10"
                                                         Height="10"
                                        HorizontalAlignment="Center"
                                        VerticalAlignment="Center"
                                                         Fill="DarkSlateGray"/>
                                    <Ellipse Grid.Row="1"
                                                         Width="8.5"
                                                         Height="8.5"
                                             HorizontalAlignment="Center"
                                             VerticalAlignment="Center"
                                                         Fill="White"/>
                                </Grid>

                                <Rectangle Grid.Row="2"
                                    VerticalAlignment="Stretch" 
                                           Fill="DarkSlateGray" Width="1"/>

                            </Grid>

                            <!-- Data -->
                            <materialDesign:Card Grid.Column="1" Margin="20 5 10 5" Padding="10"
                                                 
                                                                 materialDesign:ShadowAssist.ShadowDepth="Depth1"
                                                                 materialDesign:ShadowAssist.ShadowEdges="Right">
                                
                            <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="Auto"/>
                                        <ColumnDefinition Width="6*"/>
                                    </Grid.ColumnDefinitions>

                                    <StackPanel Orientation="Vertical">
                                        <TextBlock  Text="{Binding CreatedAt, Converter={converters:DateTimeToEmployeeSummaryConverter}, ConverterParameter='day'}"
                                                   FontSize="{StaticResource TimelineDayFontSize}"
                                                   FontWeight="Bold"
                                                   HorizontalAlignment="Center"/>
                                        <TextBlock 
                                            FontSize="{StaticResource TimelineDateFontSize}"
                                           Text="{Binding CreatedAt, Converter={converters:DateTimeToEmployeeSummaryConverter}, ConverterParameter='1'}"
                                            HorizontalAlignment="Center"/>
                                    </StackPanel>


                                    <Rectangle Grid.Column="1"
                                               Margin="40 0"
                                    VerticalAlignment="Stretch" 
                                           Fill="LightGray" Width="1"/>

                                    <TextBlock Grid.Column="2"
                                        Text="{Binding EventMessage}"
                                                FontSize="{StaticResource TimelineMessageFontSize}"
                                               VerticalAlignment="Center"/>
                                </Grid>
                            </materialDesign:Card>

                        </Grid>

                    </Grid>
                   
                </DataTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style  x:Key="AwalListView" TargetType="{x:Type ListView}" BasedOn="{StaticResource ListViewOnMouseOverDisabled}">
        <Setter Property="ItemTemplate">
            <Setter.Value>
                <DataTemplate>
                    <Grid>

                        <Grid Margin="10" VerticalAlignment="Top">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="0.3*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="0.3*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="0.3*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- AWAL status -->
                            <TextBlock Grid.Column="0"  VerticalAlignment="Center" >
                                    <StackPanel Orientation="Horizontal">
                                         <Ellipse Fill="{Binding AwalStatus, Converter={converters:AwalStatusToColorConverter}}"
                                                 Width="5"
                                                 Height="5"
                                                  Margin="0 0 5 0"
                                                 VerticalAlignment="Center"/>
                                        <TextBlock Text="{Binding AwalStatus}"
                                           VerticalAlignment="Center" 
                                   TextDecorations="{Binding AwalStatus, Converter={converters:AwalTextDecorationConverter}}"
                                       FontSize="{Binding AwalStatus, Converter={converters:AwalTextSizeConverter}}"
                                   Foreground="{Binding AwalStatus, Converter={converters:AwalTextForegroundConverter}}"
                                         Padding="0 0 5 2"/>
                                       
                                            
                                    </StackPanel>
                        </TextBlock>

                            <!-- First NCNS -->
                            <StackPanel Grid.Column="1" Orientation="Vertical"
                                            Margin="5">
                                <TextBlock 
                                   Text="First NCNS"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                <TextBlock 
                                  Text="{Binding FirstNCNSDate, Converter={converters:DateTimeToStringConverter}, ConverterParameter=1}"
                                 TextDecorations="{Binding AwalStatus, Converter={converters:AwalTextDecorationConverter}}"
                                       FontSize="{Binding AwalStatus, Converter={converters:AwalTextSizeConverter}}"
                                   Foreground="{Binding AwalStatus, Converter={converters:AwalTextForegroundConverter}}"/>
                            </StackPanel>

                            <!-- Separator -->
                            <Rectangle Grid.Column="2"
                                    VerticalAlignment="Stretch" 
                                           Fill="LightGray" Width="1"
                                           Margin="5 2"/>

                            <!-- AWAL 1 -->
                            <StackPanel Grid.Column="3" Orientation="Vertical"
                                            Margin="5">
                                <TextBlock 
                                   Text="AWAL 1 sent date"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                <TextBlock 
                                  Text="{Binding Awal1SentDate, Converter={converters:DateTimeToStringConverter}, ConverterParameter=1}"
                                 TextDecorations="{Binding AwalStatus, Converter={converters:AwalTextDecorationConverter}}"
                                       FontSize="{Binding AwalStatus, Converter={converters:AwalTextSizeConverter}}"
                                   Foreground="{Binding AwalStatus, Converter={converters:AwalTextForegroundConverter}}"/>
                            </StackPanel>

                            <!-- AWAL 2 -->
                            <StackPanel Grid.Column="4" Orientation="Vertical"
                                            Margin="5">
                                <TextBlock 
                                   Text="AWAL 2 sent date"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                <TextBlock 
                                  Text="{Binding Awal2SentDate, Converter={converters:DateTimeToStringConverter}, ConverterParameter=1}"
                                 TextDecorations="{Binding AwalStatus, Converter={converters:AwalTextDecorationConverter}}"
                                       FontSize="{Binding AwalStatus, Converter={converters:AwalTextSizeConverter}}"
                                   Foreground="{Binding AwalStatus, Converter={converters:AwalTextForegroundConverter}}"/>
                            </StackPanel>

                            <!-- Separator -->
                            <Rectangle Grid.Column="5"
                                    VerticalAlignment="Stretch" 
                                           Fill="LightGray" Width="1"
                                           Margin="5 2"/>

                            <!-- Disciplinary Date -->
                            <StackPanel Grid.Column="6" Orientation="Vertical"
                                            Margin="5">
                                <TextBlock 
                                   Text="Disciplinary Date"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                <TextBlock 
                                  Text="{Binding DisciplinaryDate, Converter={converters:DateTimeToStringConverter}, ConverterParameter=1}"
                                 TextDecorations="{Binding AwalStatus, Converter={converters:AwalTextDecorationConverter}}"
                                       FontSize="{Binding AwalStatus, Converter={converters:AwalTextSizeConverter}}"
                                   Foreground="{Binding AwalStatus, Converter={converters:AwalTextForegroundConverter}}"/>
                            </StackPanel>

                            <!-- Outcome -->
                            <StackPanel Grid.Column="7" Orientation="Vertical"
                                            Margin="5">
                                <TextBlock 
                                   Text="Outcome"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                <TextBlock 
                                  Text="{Binding Outcome}"
                                 TextDecorations="{Binding AwalStatus, Converter={converters:AwalTextDecorationConverter}}"
                                       FontSize="{Binding AwalStatus, Converter={converters:AwalTextSizeConverter}}"
                                   Foreground="{Binding AwalStatus, Converter={converters:AwalTextForegroundConverter}}"/>
                            </StackPanel>

                            <!-- Controls -->
                            <StackPanel Grid.Column="9"
                            Orientation="Horizontal"
                                    HorizontalAlignment="Right">

                                <!-- Info -->
                                <Grid Background="Transparent" Margin="0 0 5 0">
                                    <materialDesign:PackIcon Kind="InfoCircleOutline" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="DarkSlateGray"/>
                                    <Grid.ToolTip>

                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Row="0" Visibility="{Binding CreatedBy, Converter={converters:NullToVisibilityConverter}, ConverterParameter='tooltip'}">
                                    <Run Text="{Binding CreatedBy, Converter={converters:UserToTextConverter}, ConverterParameter='created'}"/>
                                    <Run Text="{Binding CreatedAt, Converter={converters:DateTimeToToolTipConverter}}"/>
                                            </TextBlock>

                                            <TextBlock Grid.Row="1" Visibility="{Binding UpdatedBy, Converter={converters:NullToVisibilityConverter}, ConverterParameter='tooltip'}">
                                    <Run Text="{Binding UpdatedBy, Converter={converters:UserToTextConverter}, ConverterParameter='updated'}"/>
                                    <Run Text="{Binding UpdatedAt, Converter={converters:DateTimeToToolTipConverter}}"/>
                                            </TextBlock>
                                            
                                            <TextBlock Grid.Row="2" Visibility="{Binding BridgeCreatedBy, Converter={converters:NullToVisibilityConverter}, ConverterParameter='tooltip'}">
                                    <Run Text="{Binding BridgeCreatedBy, Converter={converters:UserToTextConverter}, ConverterParameter='bridged'}"/>
                                    <Run Text="{Binding BridgeCreatedAt, Converter={converters:DateTimeToToolTipConverter}}"/>
                                            </TextBlock>

                                            <TextBlock Grid.Row="3" Visibility="{Binding CloseBridge, Converter={converters:NullToVisibilityConverter}, ConverterParameter='tooltip'}"
                                                       Margin="0 5 0 0">
                                                <Run Text='"'/>
                                                <Run Text="{Binding ReasonForClosure}" FontStyle="Italic"/>
                                                <Run Text='"'/>
                                            </TextBlock>
                                        </Grid>
                                    </Grid.ToolTip>
                                </Grid>

                                <!-- Edit case -->
                                <materialDesign:PopupBox 
                                     Background="Transparent"
                                    StaysOpen="True">

                                    <materialDesign:PopupBox.ToggleContent>

                                        <Border Background="Transparent" 
                                            Padding="10"
                                                ToolTip="Edit case"
                                            materialDesign:ShadowAssist.ShadowEdges="None"
                                            materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                            BorderThickness="0">

                                            <materialDesign:PackIcon Kind="EditOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"/>

                                        </Border>

                                    </materialDesign:PopupBox.ToggleContent>

                                    <StackPanel Background="Transparent" Margin="10 0 10 0"
                            Width="300"
                            Orientation="Vertical">

                                        <DatePicker 
                                Margin="5"
                                materialDesign:HintAssist.Hint="First NCNS date"
                                materialDesign:HintAssist.IsFloating="True"
                                Text="{Binding FirstNCNSDate, Mode=TwoWay, Converter={converters:DateTimeToStringConverter}, ConverterParameter=5}"/>

                                        <DatePicker 
                                Margin="5"
                                materialDesign:HintAssist.Hint="AWAL 1 sent date"
                                materialDesign:HintAssist.IsFloating="True"
                                Text="{Binding Awal1SentDate, Mode=TwoWay, Converter={converters:DateTimeToStringConverter}, ConverterParameter=5}"/>

                                        <DatePicker 
                                Margin="5"
                                materialDesign:HintAssist.Hint="AWAL 2 sent date"
                                materialDesign:HintAssist.IsFloating="True"
                                Text="{Binding Awal2SentDate, Mode=TwoWay, Converter={converters:DateTimeToStringConverter}, ConverterParameter=5}"/>

                                        <DatePicker 
                                Margin="5"
                                materialDesign:HintAssist.Hint="Disciplinary date"
                                materialDesign:HintAssist.IsFloating="True"
                                Text="{Binding DisciplinaryDate, Mode=TwoWay, Converter={converters:DateTimeToStringConverter}, ConverterParameter=5}"/>

                                        <ComboBox 
                        BorderThickness="0"
                        Margin="5"
                        SelectedValue=""
                                VerticalContentAlignment="Center"
                        materialDesign:HintAssist.Hint="Outcomes"
                        materialDesign:HintAssist.IsFloating="True"
                        ItemsSource="{Binding ElementName=awalListView, Path=DataContext.AwalSanctionList}"
                        SelectedItem="{Binding Outcome, Mode=TwoWay}">
                                        </ComboBox>

                                        <Separator Grid.Row="1" BorderBrush="LightGray" BorderThickness="1"
                               Margin="1"/>

                                        <Grid>

                                            <Button HorizontalAlignment="Right"
                                Margin="5"
                            Background="Transparent" 
                    materialDesign:ShadowAssist.ShadowEdges="None"
                    materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                        BorderBrush="DarkSlateGray"
                    BorderThickness="1"
                                Command="{Binding ElementName=awalListView, Path=DataContext.OnAwalEditCommand}"
                                          CommandParameter="{Binding}">
                                                <StackPanel Orientation="Horizontal">
                                                    <materialDesign:PackIcon Kind="CreateOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"/>
                                                    <TextBlock Margin="10 0 0 0" Text="Submit" Foreground="DarkSlateGray"
                                                   FontSize="12"/>
                                                </StackPanel>
                                            </Button>
                                        </Grid>

                                    </StackPanel>

                                </materialDesign:PopupBox>

                                <!-- Close case -->
                                <materialDesign:PopupBox 
                                     Background="Transparent"
                                    StaysOpen="True">

                                    <materialDesign:PopupBox.ToggleContent>

                                        <Border Background="Transparent" 
                                            Padding="10"
                                                ToolTip="Close AWAL without outcome"
                                            materialDesign:ShadowAssist.ShadowEdges="None"
                                            materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                            BorderThickness="0">

                                            <materialDesign:PackIcon Kind="CloseOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"/>
                                         
                                        </Border>

                                    </materialDesign:PopupBox.ToggleContent>

                                    <StackPanel Background="Transparent" Margin="10 0 10 0"
                            Width="300"
                            Orientation="Vertical">

                                        <TextBox 
                    Text="{Binding ReasonForClosure, Mode=TwoWay}"
                    Background="Transparent"
                    materialDesign:HintAssist.Hint="Reason for Closure"
                    materialDesign:HintAssist.IsFloating="True"
                                            materialDesign:HintAssist.HelperText="* Mandatory"
                                            materialDesign:HintAssist.HelperTextFontSize="8"
                    BorderThickness="0"
                    Margin="5"
                    TextWrapping="Wrap" />


                                        <Grid>

                                            <Button HorizontalAlignment="Right"
                                Margin="5"
                            Background="Transparent" 
                    materialDesign:ShadowAssist.ShadowEdges="None"
                    materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                        BorderBrush="DarkSlateGray"
                    BorderThickness="1"
                                Command="{Binding ElementName=awalListView, Path=DataContext.OnAwalCancelCommand}"
                                          CommandParameter="{Binding}">
                                                <StackPanel Orientation="Horizontal">
                                                    <materialDesign:PackIcon Kind="CreateOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"/>
                                                    <TextBlock Margin="10 0 0 0" Text="Submit" Foreground="DarkSlateGray"
                                                   FontSize="12"/>
                                                </StackPanel>
                                            </Button>
                                        </Grid>

                                    </StackPanel>

                                </materialDesign:PopupBox>

                            </StackPanel>

                        </Grid>

                    </Grid>

                </DataTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style  x:Key="CaseFileListView" TargetType="{x:Type ListView}" BasedOn="{StaticResource ListViewOnMouseOverDisabled}">
        <Setter Property="ItemTemplate">
            <Setter.Value>
                <DataTemplate>
                    <Grid Margin="10 5 5 5">
                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="Auto"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>


                        <materialDesign:PackIcon Grid.Column="0"
                                                 VerticalAlignment="Center"
                                        Kind="FileDocumentOutline" Margin="0 0 10 0"
                                                             Foreground="DarkSlateGray"/>

                        <TextBlock Grid.Column="1" Text="{Binding FullName}"
                                               VerticalAlignment="Center"
                                   TextTrimming="CharacterEllipsis"
                                               Foreground="DarkSlateGray" 
                                   Margin="0 0 10 0"/>

                        <Button Grid.Column="2" 
                                Padding="5"
                                Style="{StaticResource MaterialDesignFlatButton}"
                                Command="{Binding ElementName=customMeetingsListView, Path=DataContext.RemoveFileCommand}"
                                CommandParameter="{Binding}">
                            <materialDesign:PackIcon 
                                        Kind="TrashCanOutline"
                                        Foreground="DarkSlateGray"/>
                        </Button>
                    </Grid>
                </DataTemplate>
            </Setter.Value>
        </Setter>
    </Style>
    
    <Style x:Key="CtMeetingsListView" TargetType="{x:Type ListView}" BasedOn="{StaticResource ListViewOnMouseOverDisabled}">
        <Setter Property="ItemTemplate">
            <Setter.Value>
                <DataTemplate>
                    <Expander Background="Transparent">

                        <Expander.Header>
                            <Grid>

                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="0.7*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="0.7*"/>
                                    <ColumnDefinition Width="0.3*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="0.3*"/>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="*"/>
                                </Grid.ColumnDefinitions>

                                <!-- Meeting status -->
                                <TextBlock Grid.Column="0"  VerticalAlignment="Center" >
                                            <StackPanel Orientation="Horizontal">
                                             <Ellipse Fill="{Binding MeetingStatus, Converter={converters:MeetingStatusToColorConverter}}"
                                                     Width="5"
                                                     Height="5"
                                                      Margin="0 0 5 0"
                                                     VerticalAlignment="Center"/>
                                             <TextBlock Text="{Binding MeetingStatus}"
                                               VerticalAlignment="Center" 
                                                TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                                FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                                Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"
                                             Padding="0 0 5 2"/>
                                       
                                            
                                            </StackPanel>
                                        </TextBlock>

                                <!-- Meeting type -->
                                <StackPanel Grid.Column="1" Orientation="Vertical"
                                            Margin="5">
                                    <TextBlock 
                                            Text="Meeting Type"
                                                FontSize="{StaticResource SecondaryListFontSize}"
                                                Foreground="Gray"/>
                                    <TextBlock Text="{Binding MeetingType}"
                                                VerticalAlignment="Center"
                                                TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                                FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                                Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                                </StackPanel>

                                <!-- Case Age -->
                                <StackPanel Grid.Column="2" Orientation="Vertical"
                                            Margin="5">
                                    <TextBlock 
                                            Text="Case age"
                                                FontSize="{StaticResource SecondaryListFontSize}"
                                                Foreground="Gray"/>
                                    <TextBlock 
                                                  Text="{Binding CaseAge, Converter={converters:TenureToStringConverter}}"
                                                   TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                                   FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                                </StackPanel>
                                
                                <!-- Separator -->
                                <Rectangle Grid.Column="3"
                                            VerticalAlignment="Stretch" 
                                           Fill="LightGray" Width="1"
                                           Margin="2"/>

                                <!-- Meeting 1 -->
                                <StackPanel Grid.Column="4" Orientation="Vertical"
                                            Margin="5">
                                    <TextBlock 
                                            Text="First meeting date"
                                                FontSize="{StaticResource SecondaryListFontSize}"
                                                Foreground="Gray"/>
                                    <TextBlock 
                                                  Text="{Binding FirstMeetingDate, Converter={converters:DateTimeToStringConverter}, ConverterParameter=1}"
                                                   TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                                   FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                                </StackPanel>

                                <!-- Meeting 1 outcome -->
                                <StackPanel Grid.Column="5" Orientation="Vertical"
                                            Margin="5">
                                    <TextBlock 
                                   Text="First meeting outcome"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                    <TextBlock 
                                  Text="{Binding FirstMeetingOutcome}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                                </StackPanel>

                                <!-- Separator -->
                                <Rectangle Grid.Column="6"
                                            VerticalAlignment="Stretch" 
                                           Fill="LightGray" Width="1"
                                           Margin="2"/>

                                <!-- Meeting 2 Date -->
                                <StackPanel Grid.Column="7" Orientation="Vertical"
                                            Margin="5">
                                    <TextBlock 
                                   Text="Second meeting date"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                    <TextBlock 
                                  Text="{Binding SecondMeetingDate, Converter={converters:DateTimeToStringConverter}, ConverterParameter=1}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                                </StackPanel>

                                <!-- Meeting 2 outcome -->
                                <StackPanel Grid.Column="8" Orientation="Vertical"
                                            Margin="5">
                                    <TextBlock 
                                   Text="Second meeting outcome"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                    <TextBlock 
                                  Text="{Binding SecondMeetingOutcome}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                                </StackPanel>

                            </Grid>
                        </Expander.Header>

                        <Grid Margin="50 0 20 0">

                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="0.7*"/>
                                <ColumnDefinition Width="0.3*"/>
                                <ColumnDefinition Width="0.7*"/>
                                <ColumnDefinition Width="0.3*"/>
                                <ColumnDefinition Width="0.7*"/>
                                <ColumnDefinition Width="0.3*"/>
                                <ColumnDefinition Width="2*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition Height="Auto"/>
                            </Grid.RowDefinitions>

                            <!-- EXACT -->
                            <StackPanel Grid.Column="0" Orientation="Vertical"
                                            Margin="5">
                                <TextBlock 
                                   Text="Exact case ID"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                    
                                Foreground="Gray"/>
                                <TextBox 
                                    IsReadOnly="True"
                                    BorderBrush="Transparent"
                                    BorderThickness="0"
                                  Text="{Binding ExactCaseID}"
                                    TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                    FontSize="10"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                            </StackPanel>

                            <!-- Separator -->
                            <Rectangle Grid.Column="1"
                                    VerticalAlignment="Stretch" 
                                           Fill="LightGray" Width="1"
                                           Margin="2"/>

                            <!-- First Meeting -->
                            <Grid Grid.Column="2">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- Meeting 1 owner -->
                                <StackPanel Grid.Row="0" Orientation="Vertical"
                                            Margin="5">
                                    <TextBlock 
                                   Text="First meeting owner"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                    <TextBlock 
                                  Text="{Binding FirstMeetingOwner, Converter={converters:LoginToFullNameConverter}}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="10"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                                </StackPanel>

                                <!-- Meeting 1 HR support -->
                                <StackPanel Grid.Row="1" Orientation="Vertical"
                                            Margin="5">
                                    <TextBlock 
                                   Text="First meeting HR support"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                    <TextBlock 
                                  Text="{Binding FirstMeetingHRSupport, Converter={converters:LoginToFullNameConverter}}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="10"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                                </StackPanel>

                            </Grid>

                            <!-- Separator -->
                            <Rectangle Grid.Column="3"
                                    VerticalAlignment="Stretch" 
                                           Fill="LightGray" Width="1"
                                           Margin="2"/>

                            <!-- Second Meeting -->
                            <Grid Grid.Column="4">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <!-- Meeting 2 owner -->
                                <StackPanel Grid.Row="0" Orientation="Vertical"
                                            Margin="5">
                                    <TextBlock 
                                   Text="Second meeting owner"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                    <TextBlock 
                                  Text="{Binding SecondMeetingOwner, Converter={converters:LoginToFullNameConverter}}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="10"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                                </StackPanel>

                                <!-- Meeting 2 HR support -->
                                <StackPanel Grid.Row="1" Orientation="Vertical"
                                            Margin="5">
                                    <TextBlock 
                                   Text="Second meeting HR support"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                    <TextBlock 
                                  Text="{Binding SecondMeetingHRSupport, Converter={converters:LoginToFullNameConverter}}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="10"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                                </StackPanel>

                            </Grid>

                            <!-- Separator -->
                            <Rectangle Grid.Column="5"
                                    VerticalAlignment="Stretch" 
                                           Fill="LightGray" Width="1"
                                           Margin="2"/>

                            <!-- Controls -->
                            <Grid Grid.Column="6">
                                <Grid.RowDefinitions>
                                    <RowDefinition Height="Auto"/>
                                    <RowDefinition Height="Auto"/>
                                </Grid.RowDefinitions>

                                <StackPanel Grid.Row="0" Orientation="Horizontal">
                                    <CheckBox Content="Paperless"
                                                    HorizontalAlignment="Center"
                                                    Style="{StaticResource MaterialDesignFilterChipPrimaryOutlineCheckBox}"
                                                    IsChecked="{Binding Paperless}"
                                              IsEnabled="False"
                                              FontSize="10"/>

                                    <CheckBox Content="Union Present"
                                        Style="{StaticResource MaterialDesignFilterChipAccentOutlineCheckBox}"
                                      IsChecked="{Binding IsUnionPresent}"
                                              IsEnabled="False"
                                              FontSize="10"/>
                                    
                                    <CheckBox Content="WIM Raised"
                                        Style="{StaticResource MaterialDesignFilterChipAccentOutlineCheckBox}"
                                      IsChecked="{Binding IsWIMRaised}"
                                              IsEnabled="False"
                                              FontSize="10"/>
                                    
                                </StackPanel>

                                <materialDesign:Badged Grid.Row="0" 
                                                 HorizontalAlignment="Right"
                                    Badge="{Binding RelatedFiles.Count}"
                                                       Padding="0 0 8 0">
                                    
                                    <materialDesign:PopupBox 
                                                 Background="Transparent"
                                                 StaysOpen="True">

                                        <materialDesign:PopupBox.ToggleContent>

                                            <Border Background="Transparent" 
                                                            Padding="10"
                                                            materialDesign:ShadowAssist.ShadowEdges="None"
                                                            materialDesign:ShadowAssist.ShadowDepth="Depth0">

                                                <materialDesign:PackIcon Kind="FoldersOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"/>

                                            </Border>

                                        </materialDesign:PopupBox.ToggleContent>

                                        <Grid Width="400" MaxHeight="600">

                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>

                                            <Grid Grid.Row="0" Margin="10 0 0 0">
                                                <Grid.ColumnDefinitions>
                                                    <ColumnDefinition Width="*"/>
                                                    <ColumnDefinition Width="Auto"/>
                                                </Grid.ColumnDefinitions>

                                                <TextBlock Grid.Row="0" Text="Files / Documents"
                                                   FontWeight="Bold"
                                                   Foreground="DarkSlateGray"
                                                   VerticalAlignment="Center"/>

                                                <Button Background="{StaticResource CardBackground}" 
                                                        Margin="0 -8 0 -10"
                                                    Grid.Row="0" Grid.Column="1"
                                                    materialDesign:ShadowAssist.ShadowEdges="None"
                                                    materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                                    BorderThickness="0"
                                                        Command="{Binding ElementName=customMeetingsListView, Path=DataContext.AddCaseFileCommand}"
                                                        CommandParameter="{Binding}">
                                                    <StackPanel Orientation="Horizontal">
                                                        <materialDesign:PackIcon Kind="FileDocumentEditOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"
                                                                                 Width="12" Height="12"/>
                                                        <TextBlock Margin="10 0 0 0" Text="Add new" Foreground="DarkSlateGray"
                                                                   VerticalAlignment="Center"
                                                   FontSize="10"/>
                                                    </StackPanel>
                                                </Button>

                                            </Grid>

                                            <Separator Grid.Row="1" Grid.ColumnSpan="7" BorderBrush="LightGray" BorderThickness="1"/>

                                            <ListView Grid.Row="2"
                                             ItemsSource="{Binding RelatedFiles}"
                                            Style="{StaticResource CaseFileListView}"/>
                                        </Grid>
                                        
                                        
                                    </materialDesign:PopupBox>
                                </materialDesign:Badged>

                                <StackPanel Grid.Row="1"
                            Orientation="Horizontal"
                                    HorizontalAlignment="Right">

                                    <!-- Info -->
                                    <Grid Background="Transparent" Margin="0 0 5 0">
                                        <materialDesign:PackIcon Kind="InfoCircleOutline" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="DarkSlateGray"/>
                                        <Grid.ToolTip>

                                            <Grid>
                                                <Grid.RowDefinitions>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                    <RowDefinition Height="Auto"/>
                                                </Grid.RowDefinitions>

                                                <TextBlock Grid.Row="0" Visibility="{Binding CreatedBy, Converter={converters:NullToVisibilityConverter}, ConverterParameter='tooltip'}">
                                    <Run Text="{Binding CreatedBy, Converter={converters:UserToTextConverter}, ConverterParameter='created'}"/>
                                    <Run Text="{Binding CreatedAt, Converter={converters:DateTimeToToolTipConverter}}"/>
                                                </TextBlock>

                                                <TextBlock Grid.Row="1" Visibility="{Binding UpdatedBy, Converter={converters:NullToVisibilityConverter}, ConverterParameter='tooltip'}">
                                    <Run Text="{Binding UpdatedBy, Converter={converters:UserToTextConverter}, ConverterParameter='updated'}"/>
                                    <Run Text="{Binding UpdatedAt, Converter={converters:DateTimeToToolTipConverter}}"/>
                                                </TextBlock>

                                                <TextBlock Grid.Row="1" Visibility="{Binding ClosedBy, Converter={converters:NullToVisibilityConverter}, ConverterParameter='tooltip'}">
                                    <Run Text="{Binding ClosedBy, Converter={converters:UserToTextConverter}, ConverterParameter='closed'}"/>
                                    <Run Text="{Binding ClosedAt, Converter={converters:DateTimeToToolTipConverter}}"/>
                                                </TextBlock>

                                            </Grid>
                                        </Grid.ToolTip>
                                    </Grid>

                                    <!-- Edit case -->
                                    <materialDesign:PopupBox 
                                     Background="Transparent"
                                    StaysOpen="True">

                                        <materialDesign:PopupBox.ToggleContent>

                                            <Border Background="Transparent" 
                                                Padding="10"
                                                ToolTip="Edit case"
                                                materialDesign:ShadowAssist.ShadowEdges="None"
                                                materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                                BorderThickness="0">

                                                <materialDesign:PackIcon Kind="EditOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"/>

                                            </Border>

                                        </materialDesign:PopupBox.ToggleContent>

                                        <Grid Background="Transparent" Margin="10 0 10 0"
                                                Width="400">

                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="*"/>
                                            </Grid.ColumnDefinitions>

                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <DatePicker Grid.Row="0" Grid.Column="0"
                                            Margin="5 5 15 5"
                                            materialDesign:HintAssist.Hint="First Meeting Date"
                                            materialDesign:HintAssist.IsFloating="True"
                                            Text="{Binding FirstMeetingDate, Mode=TwoWay, Converter={converters:DateTimeToStringConverter}, ConverterParameter=5}"/>

                                            <ComboBox Grid.Row="1" Grid.Column="0"
                                            BorderThickness="0"
                                            Margin="5 5 15 5"
                                            SelectedValue=""
                                            VerticalContentAlignment="Center"
                                            materialDesign:HintAssist.Hint="Outcomes"
                                            materialDesign:HintAssist.IsFloating="True"
                                            ItemsSource="{Binding FirstMeetingOutcomeList}"
                                            SelectedItem="{Binding FirstMeetingOutcome, Mode=TwoWay}">
                                            </ComboBox>

                                            <DatePicker Grid.Row="0" Grid.Column="1"
                                            Margin="5 5 15 5"
                                            materialDesign:HintAssist.Hint="Second Meeting Date"
                                            materialDesign:HintAssist.IsFloating="True"
                                            Text="{Binding SecondMeetingDate, Mode=TwoWay, Converter={converters:DateTimeToStringConverter}, ConverterParameter=5}"/>


                                            <ComboBox Grid.Row="1" Grid.Column="1"
                                            BorderThickness="0"
                                            Margin="5 5 15 5"
                                            SelectedValue=""
                                            VerticalContentAlignment="Center"
                                            materialDesign:HintAssist.Hint="Outcomes"
                                            materialDesign:HintAssist.IsFloating="True"
                                                  IsEnabled="{Binding FirstMeetingOutcome, Converter={converters:MeetingOutcomeToNextStageConverter}}"
                                            ItemsSource="{Binding SecondMeetingOutcomeList}"
                                            SelectedItem="{Binding SecondMeetingOutcome, Mode=TwoWay}">
                                            </ComboBox>


                                            <Separator Grid.Row="2" Grid.ColumnSpan="2" BorderBrush="LightGray" BorderThickness="1"
                                            Margin="1"/>


                                            <StackPanel Grid.Row="3" Grid.Column="0"
                                                   Orientation="Horizontal"
                                                    HorizontalAlignment="Left">

                                                <CheckBox Content="Paperless"
                                                    HorizontalAlignment="Center"
                                                    Style="{StaticResource MaterialDesignFilterChipPrimaryOutlineCheckBox}"
                                                    IsChecked="{Binding Paperless}"
                                              FontSize="10"/>

                                                <CheckBox Content="Union Present"
                                        Style="{StaticResource MaterialDesignFilterChipAccentOutlineCheckBox}"
                                      IsChecked="{Binding IsUnionPresent}"
                                              FontSize="10"/>

                                                <CheckBox Content="WIM Raised"
                                        Style="{StaticResource MaterialDesignFilterChipAccentOutlineCheckBox}"
                                      IsChecked="{Binding IsWIMRaised}"
                                              FontSize="10"/>

                                            </StackPanel>

                                            <Button Grid.Row="3" Grid.Column="1"
                                            HorizontalAlignment="Right"
                                                Margin="5"
                                                Background="Transparent" 
                                                materialDesign:ShadowAssist.ShadowEdges="None"
                                                materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                                BorderBrush="DarkSlateGray"
                                                BorderThickness="1" >
                                                <StackPanel Orientation="Horizontal">
                                                    <materialDesign:PackIcon Kind="CreateOutline" 
                                                                VerticalAlignment="Center"
                                                                Foreground="DarkSlateGray"/>
                                                    <TextBlock Margin="10 0 0 0" Text="Submit" Foreground="DarkSlateGray"/>
                                                </StackPanel>
                                            </Button>


                                        </Grid>

                                    </materialDesign:PopupBox>

                                    <!-- Close case -->
                                    <materialDesign:PopupBox 
                                     Background="Transparent"
                                    StaysOpen="True">

                                        <materialDesign:PopupBox.ToggleContent>

                                            <Border Background="Transparent" 
                                            Padding="10"
                                                ToolTip="Close meeting case without outcome"
                                            materialDesign:ShadowAssist.ShadowEdges="None"
                                            materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                            BorderThickness="0">

                                                <materialDesign:PackIcon Kind="CloseOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"/>

                                            </Border>

                                        </materialDesign:PopupBox.ToggleContent>

                                        <StackPanel Background="Transparent" Margin="10 0 10 0"
                                                Width="300"
                                                Orientation="Vertical">

                                            <TextBox 
                                            Text="{Binding ElementName=customMeetingsListView, Path=DataContext.ReasonForCustomClosure}"
                                            Background="Transparent"
                                            materialDesign:HintAssist.Hint="Reason for Closure"
                                            materialDesign:HintAssist.IsFloating="True"
                                            materialDesign:HintAssist.HelperText="* Mandatory"
                                            materialDesign:HintAssist.HelperTextFontSize="8"
                                            BorderThickness="0"
                                            Margin="5"
                                            TextWrapping="Wrap" />


                                            <Grid>

                                                <Button 
                                            Margin="-10 20 -10 -8"
                                                HorizontalContentAlignment="Center"
                                            Background="Transparent" 
                                            materialDesign:ShadowAssist.ShadowEdges="None"
                                            materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                            BorderBrush="DarkSlateGray"
                                            BorderThickness="1"
                                            Command="{Binding ElementName=customMeetingsListView, Path=DataContext.OnCustomMeetingCancelCommand}"
                                            CommandParameter="{Binding}">
                                                    <StackPanel Orientation="Horizontal">
                                                        <materialDesign:PackIcon Kind="CreateOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"/>
                                                        <TextBlock Margin="10 0 0 0" Text="Submit" Foreground="DarkSlateGray"
                                                   FontSize="12"/>
                                                    </StackPanel>
                                                </Button>
                                            </Grid>

                                        </StackPanel>

                                    </materialDesign:PopupBox>

                                </StackPanel>

                            </Grid>

                            <Separator Grid.Row="1" Grid.ColumnSpan="7" BorderBrush="LightGray" BorderThickness="1"/>


                        </Grid>

                    </Expander>
                </DataTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style x:Key="CustomMeetingsListView" TargetType="{x:Type ListView}" BasedOn="{StaticResource ListViewOnMouseOverDisabled}">
        <Setter Property="ItemTemplate">
            <Setter.Value>
                <DataTemplate>

                    <Grid Margin="0 10">

                        <Grid.ColumnDefinitions>
                            <ColumnDefinition Width="0.7*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="0.7*"/>
                            <ColumnDefinition Width="0.3*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="0.3*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="*"/>
                            <ColumnDefinition Width="Auto"/>
                        </Grid.ColumnDefinitions>


                        <!-- Meeting status -->
                        <TextBlock Grid.Column="0"  VerticalAlignment="Center" >
                                    <StackPanel Orientation="Horizontal">
                                        <Ellipse Fill="{Binding MeetingStatus, Converter={converters:MeetingStatusToColorConverter}}"
                                                Width="5"
                                                Height="5"
                                                Margin="0 0 5 0"
                                                VerticalAlignment="Center"/>
                                        <TextBlock Text="{Binding MeetingStatus}"
                                        VerticalAlignment="Center" 
                                        TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                        FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                        Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"
                                        Padding="0 0 5 2"/>
                                       
                                            
                                    </StackPanel>
                                </TextBlock>

                        <!-- Meeting type -->
                        <StackPanel Grid.Column="1" Orientation="Vertical"
                                    Margin="5">
                            <TextBlock 
                                    Text="Meeting Type"
                                        FontSize="{StaticResource SecondaryListFontSize}"
                                        Foreground="Gray"/>
                            <TextBlock Text="{Binding MeetingType}"
                                        VerticalAlignment="Center"
                                        TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                        FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                        Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                        </StackPanel>

                        <!-- Case Age -->
                        <StackPanel Grid.Column="2" Orientation="Vertical"
                                    Margin="5">
                            <TextBlock 
                                    Text="Case age"
                                        FontSize="{StaticResource SecondaryListFontSize}"
                                        Foreground="Gray"/>
                            <TextBlock 
                                            Text="{Binding CaseAge, Converter={converters:TenureToStringConverter}}"
                                            TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                            FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                            Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                        </StackPanel>

                        <!-- Separator -->
                        <Rectangle Grid.Column="3"
                                    VerticalAlignment="Stretch" 
                                    Fill="LightGray" Width="1"
                                    Margin="2"/>

                        <!-- Meeting 1 -->
                        <StackPanel Grid.Column="4" Orientation="Vertical"
                                    Margin="5">
                            <TextBlock 
                                    Text="First meeting date"
                                        FontSize="{StaticResource SecondaryListFontSize}"
                                        Foreground="Gray"/>
                            <TextBlock 
                                            Text="{Binding FirstMeetingDate, Converter={converters:DateTimeToStringConverter}, ConverterParameter=1}"
                                            TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                            FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                            Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                        </StackPanel>

                        <!-- Meeting 1 outcome -->
                        <StackPanel Grid.Column="5" Orientation="Vertical"
                                    Margin="5">
                            <TextBlock 
                            Text="First meeting outcome"
                        FontSize="{StaticResource SecondaryListFontSize}"
                        Foreground="Gray"/>
                            <TextBlock 
                            Text="{Binding FirstMeetingOutcome}"
                            TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                            Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                        </StackPanel>

                        <!-- Separator -->
                        <Rectangle Grid.Column="6"
                                    VerticalAlignment="Stretch" 
                                    Fill="LightGray" Width="1"
                                    Margin="2"/>

                        <!-- Meeting 2 Date -->
                        <StackPanel Grid.Column="7" Orientation="Vertical"
                                    Margin="5">
                            <TextBlock 
                            Text="Second meeting date"
                        FontSize="{StaticResource SecondaryListFontSize}"
                        Foreground="Gray"/>
                            <TextBlock 
                            Text="{Binding SecondMeetingDate, Converter={converters:DateTimeToStringConverter}, ConverterParameter=1}"
                            TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                            Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                        </StackPanel>

                        <!-- Meeting 2 outcome -->
                        <StackPanel Grid.Column="8" Orientation="Vertical"
                                    Margin="5">
                            <TextBlock 
                            Text="Second meeting outcome"
                        FontSize="{StaticResource SecondaryListFontSize}"
                        Foreground="Gray"/>
                            <TextBlock 
                            Text="{Binding SecondMeetingOutcome}"
                            TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                            Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                        </StackPanel>

                        <!-- Controls -->
                        <Grid Grid.Column="9" Margin="0 0 15 0">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <!-- More info -->
                            <Grid Background="Transparent" Margin="5" Grid.Column="0"
                                  VerticalAlignment="Top">
                                <materialDesign:PopupBox 
                                                 Background="Transparent"
                                                 StaysOpen="True">

                                    <materialDesign:PopupBox.ToggleContent>
                                        <materialDesign:PackIcon Kind="ExpandMore" 
                                                                VerticalAlignment="Center"
                                                                Foreground="DarkSlateGray"/>
                                    </materialDesign:PopupBox.ToggleContent>

                                    <Grid Margin="5"
                                          Width="700">

                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="0.7*"/>
                                            <ColumnDefinition Width="0.3*"/>
                                            <ColumnDefinition Width="0.7*"/>
                                            <ColumnDefinition Width="0.3*"/>
                                            <ColumnDefinition Width="0.7*"/>
                                            <ColumnDefinition Width="0.3*"/>
                                        </Grid.ColumnDefinitions>

                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <!-- EXACT -->
                                        <StackPanel Grid.Column="0" Orientation="Vertical"
                                            Margin="5">
                                            <TextBlock 
                                   Text="Exact case ID"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                    
                                Foreground="Gray"/>
                                            
                                            <TextBox 
                                    IsReadOnly="True"
                                    BorderBrush="Transparent"
                                    BorderThickness="0"
                                  Text="{Binding ExactCaseID}"
                                    TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                    FontSize="10"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                                        </StackPanel>

                                        <!-- Separator -->
                                        <Rectangle Grid.Column="1"
                                    VerticalAlignment="Stretch" 
                                           Fill="LightGray" Width="1"
                                           Margin="2"/>

                                        <!-- First Meeting -->
                                        <Grid Grid.Column="2">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!-- Meeting 1 owner -->
                                            <StackPanel Grid.Row="0" Orientation="Vertical"
                                            Margin="5">
                                                <TextBlock 
                                   Text="First meeting owner"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                                <TextBlock 
                                  Text="{Binding FirstMeetingOwner, Converter={converters:LoginToFullNameConverter}}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="10"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                                            </StackPanel>

                                            <!-- Meeting 1 HR support -->
                                            <StackPanel Grid.Row="1" Orientation="Vertical"
                                            Margin="5">
                                                <TextBlock 
                                   Text="First meeting HR support"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                                <TextBlock 
                                  Text="{Binding FirstMeetingHRSupport, Converter={converters:LoginToFullNameConverter}}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="10"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                                            </StackPanel>

                                        </Grid>

                                        <!-- Separator -->
                                        <Rectangle Grid.Column="3"
                                    VerticalAlignment="Stretch" 
                                           Fill="LightGray" Width="1"
                                           Margin="2"/>

                                        <!-- Second Meeting -->
                                        <Grid Grid.Column="4">
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <!-- Meeting 2 owner -->
                                            <StackPanel Grid.Row="0" Orientation="Vertical"
                                            Margin="5">
                                                <TextBlock 
                                   Text="Second meeting owner"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                                <TextBlock 
                                  Text="{Binding SecondMeetingOwner, Converter={converters:LoginToFullNameConverter}}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="10"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                                            </StackPanel>

                                            <!-- Meeting 2 HR support -->
                                            <StackPanel Grid.Row="1" Orientation="Vertical"
                                            Margin="5">
                                                <TextBlock 
                                   Text="Second meeting HR support"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                                <TextBlock 
                                  Text="{Binding SecondMeetingHRSupport, Converter={converters:LoginToFullNameConverter}}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="10"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                                            </StackPanel>

                                        </Grid>

                                        <StackPanel Grid.Row="1" Grid.ColumnSpan="5"
                                    Margin="5" Orientation="Horizontal">

                                            <CheckBox Content="Paperless"
                                                    HorizontalAlignment="Center"
                                                    Style="{StaticResource MaterialDesignFilterChipPrimaryOutlineCheckBox}"
                                                    IsChecked="{Binding Paperless}"
                                              IsEnabled="False"
                                              FontSize="10"/>

                                            <CheckBox Content="Union Present"
                                        Style="{StaticResource MaterialDesignFilterChipAccentOutlineCheckBox}"
                                      IsChecked="{Binding IsUnionPresent}"
                                              IsEnabled="False"
                                              FontSize="10"/>

                                            <CheckBox Content="WIM Raised"
                                        Style="{StaticResource MaterialDesignFilterChipAccentOutlineCheckBox}"
                                      IsChecked="{Binding IsWIMRaised}"
                                              IsEnabled="False"
                                              FontSize="10"/>

                                        </StackPanel>

                                    </Grid>

                                </materialDesign:PopupBox>

                            </Grid>

                            <!-- Info -->
                            <Grid Background="Transparent" Margin="5" Grid.Column="1"
                                  VerticalAlignment="Top">
                                <materialDesign:PackIcon Kind="InfoCircleOutline" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="DarkSlateGray"/>
                                <Grid.ToolTip>

                                    <Grid>
                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <TextBlock Grid.Row="0" Visibility="{Binding CreatedBy, Converter={converters:NullToVisibilityConverter}, ConverterParameter='tooltip'}">
                                    <Run Text="{Binding CreatedBy, Converter={converters:UserToTextConverter}, ConverterParameter='created'}"/>
                                    <Run Text="{Binding CreatedAt, Converter={converters:DateTimeToToolTipConverter}}"/>
                                        </TextBlock>

                                        <TextBlock Grid.Row="1" Visibility="{Binding UpdatedBy, Converter={converters:NullToVisibilityConverter}, ConverterParameter='tooltip'}">
                                    <Run Text="{Binding UpdatedBy, Converter={converters:UserToTextConverter}, ConverterParameter='updated'}"/>
                                    <Run Text="{Binding UpdatedAt, Converter={converters:DateTimeToToolTipConverter}}"/>
                                        </TextBlock>

                                        <TextBlock Grid.Row="2" Visibility="{Binding ClosedBy, Converter={converters:NullToVisibilityConverter}, ConverterParameter='tooltip'}">
                                    <Run Text="{Binding ClosedBy, Converter={converters:UserToTextConverter}, ConverterParameter='closed'}"/>
                                    <Run Text="{Binding ClosedAt, Converter={converters:DateTimeToToolTipConverter}}"/>
                                        </TextBlock>

                                    </Grid>
                                </Grid.ToolTip>
                            </Grid>

                            <!-- Edit case -->
                            <materialDesign:PopupBox 
                                     Background="Transparent" Margin="5" 
                                VerticalAlignment="Top"
                                ToolTip="Edit the case"
                                Grid.Column="2"
                                    StaysOpen="True">

                                <materialDesign:PopupBox.ToggleContent>
                                    <materialDesign:PackIcon Kind="EditOutline" 
                                                                VerticalAlignment="Center"
                                                                Foreground="DarkSlateGray"/>

                                </materialDesign:PopupBox.ToggleContent>

                                <Grid Background="Transparent" Margin="10 0 10 0"
                                                Width="400">

                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="*"/>
                                        <ColumnDefinition Width="*"/>
                                    </Grid.ColumnDefinitions>

                                    <Grid.RowDefinitions>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                        <RowDefinition Height="Auto"/>
                                    </Grid.RowDefinitions>

                                    <DatePicker Grid.Row="0" Grid.Column="0"
                                            Margin="5 5 15 5"
                                            materialDesign:HintAssist.Hint="First Meeting Date"
                                            materialDesign:HintAssist.IsFloating="True"
                                            Text="{Binding FirstMeetingDate, Mode=TwoWay, Converter={converters:DateTimeToStringConverter}, ConverterParameter=5}"/>

                                    <ComboBox Grid.Row="1" Grid.Column="0"
                                            BorderThickness="0"
                                            Margin="5 5 15 5"
                                            SelectedValue=""
                                            VerticalContentAlignment="Center"
                                            materialDesign:HintAssist.Hint="Outcomes"
                                            materialDesign:HintAssist.IsFloating="True"
                                            ItemsSource="{Binding FirstMeetingOutcomeList}"
                                            SelectedItem="{Binding FirstMeetingOutcome, Mode=TwoWay}">
                                    </ComboBox>

                                    <DatePicker Grid.Row="0" Grid.Column="1"
                                            Margin="5 5 15 5"
                                            materialDesign:HintAssist.Hint="Second Meeting Date"
                                            materialDesign:HintAssist.IsFloating="True"
                                            Text="{Binding SecondMeetingDate, Mode=TwoWay, Converter={converters:DateTimeToStringConverter}, ConverterParameter=5}"/>


                                    <ComboBox Grid.Row="1" Grid.Column="1"
                                            BorderThickness="0"
                                            Margin="5 5 15 5"
                                            SelectedValue=""
                                            VerticalContentAlignment="Center"
                                            materialDesign:HintAssist.Hint="Outcomes"
                                            materialDesign:HintAssist.IsFloating="True"
                                                  IsEnabled="{Binding FirstMeetingOutcome, Converter={converters:MeetingOutcomeToNextStageConverter}}"
                                            ItemsSource="{Binding SecondMeetingOutcomeList}"
                                            SelectedItem="{Binding SecondMeetingOutcome, Mode=TwoWay}">
                                    </ComboBox>


                                    <Separator Grid.Row="2" Grid.ColumnSpan="2" BorderBrush="LightGray" BorderThickness="1"
                                            Margin="1"/>


                                    <StackPanel Grid.Row="3" Grid.Column="0"
                                                   Orientation="Horizontal"
                                                    HorizontalAlignment="Left">

                                        <CheckBox Content="Paperless"
                                                    HorizontalAlignment="Center"
                                                    Style="{StaticResource MaterialDesignFilterChipPrimaryOutlineCheckBox}"
                                                    IsChecked="{Binding Paperless}"
                                              FontSize="10"/>

                                        <CheckBox Content="Union Present"
                                        Style="{StaticResource MaterialDesignFilterChipAccentOutlineCheckBox}"
                                      IsChecked="{Binding IsUnionPresent}"
                                              FontSize="10"/>

                                        <CheckBox Content="WIM Raised"
                                        Style="{StaticResource MaterialDesignFilterChipAccentOutlineCheckBox}"
                                      IsChecked="{Binding IsWIMRaised}"
                                              FontSize="10"/>

                                    </StackPanel>

                                    <Button Grid.Row="3" Grid.Column="1"
                                            HorizontalAlignment="Right"
                                                Margin="5"
                                                Background="Transparent" 
                                                materialDesign:ShadowAssist.ShadowEdges="None"
                                                materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                                BorderBrush="DarkSlateGray"
                                                BorderThickness="1" >
                                        <StackPanel Orientation="Horizontal">
                                            <materialDesign:PackIcon Kind="CreateOutline" 
                                                                VerticalAlignment="Center"
                                                                Foreground="DarkSlateGray"/>
                                            <TextBlock Margin="10 0 0 0" Text="Submit" Foreground="DarkSlateGray"/>
                                        </StackPanel>
                                    </Button>


                                </Grid>

                            </materialDesign:PopupBox>

                            <!-- Close case -->
                            <materialDesign:PopupBox Grid.Column="3"
                                                     Margin="5"
                                                     VerticalAlignment="Top"
                                                     ToolTip="Close case without outcome"
                                     Background="Transparent"
                                    StaysOpen="True">

                                <materialDesign:PopupBox.ToggleContent>

                                    

                                        <materialDesign:PackIcon Kind="CloseOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"/>


                                </materialDesign:PopupBox.ToggleContent>

                                <StackPanel Background="Transparent" Margin="10 0 10 0"
                                                Width="300"
                                                Orientation="Vertical">

                                    <TextBox 
                                            Text="{Binding ElementName=customMeetingsListView, Path=DataContext.ReasonForCustomClosure}"
                                            Background="Transparent"
                                            materialDesign:HintAssist.Hint="Reason for Closure"
                                            materialDesign:HintAssist.IsFloating="True"
                                            materialDesign:HintAssist.HelperText="* Mandatory"
                                            materialDesign:HintAssist.HelperTextFontSize="8"
                                            BorderThickness="0"
                                            Margin="5"
                                            TextWrapping="Wrap" />


                                    <Grid>

                                        <Button 
                                            Margin="-10 20 -10 -8"
                                                HorizontalContentAlignment="Center"
                                            Background="Transparent" 
                                            materialDesign:ShadowAssist.ShadowEdges="None"
                                            materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                            BorderBrush="DarkSlateGray"
                                            BorderThickness="1"
                                            Command="{Binding ElementName=customMeetingsListView, Path=DataContext.OnCustomMeetingCancelCommand}"
                                            CommandParameter="{Binding}">
                                            <StackPanel Orientation="Horizontal">
                                                <materialDesign:PackIcon Kind="CreateOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"/>
                                                <TextBlock Margin="10 0 0 0" Text="Submit" Foreground="DarkSlateGray"
                                                   FontSize="12"/>
                                            </StackPanel>
                                        </Button>
                                    </Grid>

                                </StackPanel>

                            </materialDesign:PopupBox>

                            <!-- Related files -->
                            <materialDesign:Badged Grid.Column="4"
                                                 HorizontalAlignment="Right"
                                    Badge="{Binding RelatedFiles.Count}"
                                                       Padding="0 -5 -8 0">

                                <materialDesign:PopupBox 
                                                 Background="Transparent"
                                                 StaysOpen="True">

                                    <materialDesign:PopupBox.ToggleContent>

                                        <Border Background="Transparent" 
                                                            Padding="10"
                                                            materialDesign:ShadowAssist.ShadowEdges="None"
                                                            materialDesign:ShadowAssist.ShadowDepth="Depth0">

                                            <materialDesign:PackIcon Kind="FoldersOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"/>

                                        </Border>

                                    </materialDesign:PopupBox.ToggleContent>

                                    <Grid Width="400" MaxHeight="600">

                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="*"/>
                                        </Grid.RowDefinitions>

                                        <Grid Grid.Row="0" Margin="10 0 0 0">
                                            <Grid.ColumnDefinitions>
                                                <ColumnDefinition Width="*"/>
                                                <ColumnDefinition Width="Auto"/>
                                            </Grid.ColumnDefinitions>

                                            <TextBlock Grid.Row="0" Text="Files / Documents"
                                                   FontWeight="Bold"
                                                   Foreground="DarkSlateGray"
                                                   VerticalAlignment="Center"/>

                                            <Button Background="{StaticResource CardBackground}" 
                                                        Margin="0 -8 0 -10"
                                                    Grid.Row="0" Grid.Column="1"
                                                    materialDesign:ShadowAssist.ShadowEdges="None"
                                                    materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                                    BorderThickness="0"
                                                        Command="{Binding ElementName=customMeetingsListView, Path=DataContext.AddCaseFileCommand}"
                                                        CommandParameter="{Binding}">
                                                <StackPanel Orientation="Horizontal">
                                                    <materialDesign:PackIcon Kind="FileDocumentEditOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"
                                                                                 Width="12" Height="12"/>
                                                    <TextBlock Margin="10 0 0 0" Text="Add new" Foreground="DarkSlateGray"
                                                                   VerticalAlignment="Center"
                                                   FontSize="10"/>
                                                </StackPanel>
                                            </Button>

                                        </Grid>

                                        <Separator Grid.Row="1" Grid.ColumnSpan="7" BorderBrush="LightGray" BorderThickness="1"/>

                                        <ListView x:Name="relatedFilesListView"
                                            Grid.Row="2"
                                             ItemsSource="{Binding RelatedFiles}"
                                            Style="{StaticResource CaseFileListView}"/>
                                    </Grid>


                                </materialDesign:PopupBox>
                            </materialDesign:Badged>
   
                        </Grid>
  
                    </Grid>

                </DataTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    <Style  x:Key="ErMeetingsListView" TargetType="{x:Type ListView}" BasedOn="{StaticResource ListViewOnMouseOverDisabled}">
        <Setter Property="ItemTemplate">
            <Setter.Value>
                <DataTemplate>
                    <Grid>

                        <Grid Margin="10" VerticalAlignment="Top">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="0.7*"/>
                                <ColumnDefinition Width="0.7*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="0.3*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="0.3*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>

                            <!-- Meeting status -->
                            <TextBlock Grid.Column="0"  VerticalAlignment="Center" >
                                    <StackPanel Orientation="Horizontal">
                                         <Ellipse Fill="{Binding MeetingStatus, Converter={converters:MeetingStatusToColorConverter}}"
                                                 Width="5"
                                                 Height="5"
                                                  Margin="0 0 5 0"
                                                 VerticalAlignment="Center"/>
                                        <TextBlock Text="{Binding MeetingStatus}"
                                           VerticalAlignment="Center" 
                                   TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"
                                         Padding="0 0 5 2"/>
                                       
                                            
                                    </StackPanel>
                        </TextBlock>

                            <!-- Case IDs -->
                            <StackPanel Grid.Column="1" Orientation="Vertical"
                                        VerticalAlignment="Bottom"
                                            Margin="5">
                                
                                <TextBox 
                                  Text="{Binding ID}"
                                    IsReadOnly="True"
                                    BorderBrush="Transparent"
                                    BorderThickness="0"
                                    TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                    FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                    Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                            </StackPanel>

                            <!-- Meeting Progress -->
                            <StackPanel Grid.Column="2" Orientation="Vertical"
                                            Margin="5">
                                <TextBlock 
                                   Text="Meeting stage"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                <TextBlock 
                                  Text="{Binding MeetingProgress}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                            </StackPanel>

                            <!-- Separator -->
                            <Rectangle Grid.Column="3"
                                    VerticalAlignment="Stretch" 
                                           Fill="LightGray" Width="1"
                                           Margin="2"/>

                            <!-- Meeting 1 -->
                            <StackPanel Grid.Column="4" Orientation="Vertical"
                                            Margin="5">
                                <TextBlock 
                                   Text="First meeting date"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                <TextBlock 
                                  Text="{Binding FirstMeetingDate, Converter={converters:DateTimeToStringConverter}, ConverterParameter=1}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                            </StackPanel>

                            <!-- Meeting 1 outcome -->
                            <StackPanel Grid.Column="5" Orientation="Vertical"
                                            Margin="5">
                                <TextBlock 
                                   Text="First meeting outcome"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                <TextBlock 
                                  Text="{Binding FirstMeetingOutcome}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                            </StackPanel>

                            <!-- Separator -->
                            <Rectangle Grid.Column="6"
                                    VerticalAlignment="Stretch" 
                                           Fill="LightGray" Width="1"
                                           Margin="5 2"/>

                            <!-- Meeting 2 Date -->
                            <StackPanel Grid.Column="7" Orientation="Vertical"
                                            Margin="5">
                                <TextBlock 
                                   Text="Second meeting date"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                <TextBlock 
                                  Text="{Binding SecondMeetingDate, Converter={converters:DateTimeToStringConverter}, ConverterParameter=1}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                            </StackPanel>

                            <!-- Meeting 2 outcome -->
                            <StackPanel Grid.Column="8" Orientation="Vertical"
                                            Margin="5">
                                <TextBlock 
                                   Text="Second meeting outcome"
                                FontSize="{StaticResource SecondaryListFontSize}"
                                Foreground="Gray"/>
                                <TextBlock 
                                  Text="{Binding SecondMeetingOutcome}"
                                 TextDecorations="{Binding MeetingStatus, Converter={converters:MeetingTextDecorationConverter}}"
                                       FontSize="{Binding MeetingStatus, Converter={converters:MeetingTextSizeConverter}}"
                                   Foreground="{Binding MeetingStatus, Converter={converters:MeetingTextForegroundConverter}}"/>
                            </StackPanel>

                            <!-- Controls -->
                            <StackPanel Grid.Column="9"
                            Orientation="Horizontal"
                                    HorizontalAlignment="Right">

                                <!-- Info -->
                                <Grid Background="Transparent" Margin="0 0 5 0">
                                    <materialDesign:PackIcon Kind="InfoCircleOutline" VerticalAlignment="Center" HorizontalAlignment="Center" Foreground="DarkSlateGray"/>
                                    <Grid.ToolTip>

                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="Auto"/>
                                            </Grid.RowDefinitions>

                                            <TextBlock Grid.Row="0" Visibility="{Binding CreatedBy, Converter={converters:NullToVisibilityConverter}, ConverterParameter='tooltip'}">
                                    <Run Text="{Binding CreatedBy, Converter={converters:UserToTextConverter}, ConverterParameter='created'}"/>
                                    <Run Text="{Binding CreatedAt, Converter={converters:DateTimeToToolTipConverter}}"/>
                                            </TextBlock>

                                            <TextBlock Grid.Row="1" Visibility="{Binding UpdatedBy, Converter={converters:NullToVisibilityConverter}, ConverterParameter='tooltip'}">
                                    <Run Text="{Binding UpdatedBy, Converter={converters:UserToTextConverter}, ConverterParameter='updated'}"/>
                                    <Run Text="{Binding UpdatedAt, Converter={converters:DateTimeToToolTipConverter}}"/>
                                            </TextBlock>

                                        </Grid>
                                    </Grid.ToolTip>
                                </Grid>

                                <!-- Edit case -->
                                <materialDesign:PopupBox 
                                     Background="Transparent"
                                    StaysOpen="True">

                                    <materialDesign:PopupBox.ToggleContent>

                                        <Border Background="Transparent" 
                                                Padding="10"
                                                ToolTip="Edit case"
                                                materialDesign:ShadowAssist.ShadowEdges="None"
                                                materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                                BorderThickness="0">

                                            <materialDesign:PackIcon Kind="EditOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"/>

                                        </Border>

                                    </materialDesign:PopupBox.ToggleContent>

                                    <Grid Background="Transparent" Margin="10 0 10 0"
                                                Width="400">

                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="*"/>
                                        </Grid.ColumnDefinitions>

                                        <Grid.RowDefinitions>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                            <RowDefinition Height="Auto"/>
                                        </Grid.RowDefinitions>

                                        <DatePicker Grid.Row="0" Grid.Column="0"
                                            Margin="5 5 15 5"
                                            materialDesign:HintAssist.Hint="First Meeting Date"
                                            materialDesign:HintAssist.IsFloating="True"
                                            Text="{Binding FirstMeetingDate, Mode=TwoWay, Converter={converters:DateTimeToStringConverter}, ConverterParameter=5}"/>

                                        <ComboBox Grid.Row="1" Grid.Column="0"
                                            BorderThickness="0"
                                            Margin="5 5 15 5"
                                            SelectedValue=""
                                            VerticalContentAlignment="Center"
                                            materialDesign:HintAssist.Hint="Outcomes"
                                            materialDesign:HintAssist.IsFloating="True"
                                            ItemsSource="{Binding FirstMeetingOutcomeList}"
                                            SelectedItem="{Binding FirstMeetingOutcome, Mode=TwoWay}">
                                        </ComboBox>
                                        
                                        <DatePicker Grid.Row="0" Grid.Column="1"
                                            Margin="5 5 15 5"
                                            materialDesign:HintAssist.Hint="Second Meeting Date"
                                            materialDesign:HintAssist.IsFloating="True"
                                            Text="{Binding SecondMeetingDate, Mode=TwoWay, Converter={converters:DateTimeToStringConverter}, ConverterParameter=5}"/>


                                        <ComboBox Grid.Row="1" Grid.Column="1"
                                            BorderThickness="0"
                                            Margin="5 5 15 5"
                                            SelectedValue=""
                                            VerticalContentAlignment="Center"
                                            materialDesign:HintAssist.Hint="Outcomes"
                                            materialDesign:HintAssist.IsFloating="True"
                                                  IsEnabled="{Binding FirstMeetingOutcome, Converter={converters:MeetingOutcomeToNextStageConverter}}"
                                            ItemsSource="{Binding SecondMeetingOutcomeList}"
                                            SelectedItem="{Binding SecondMeetingOutcome, Mode=TwoWay}">
                                        </ComboBox>


                                        <Separator Grid.Row="2" Grid.ColumnSpan="2" BorderBrush="LightGray" BorderThickness="1"
                                            Margin="1"/>


                                        <StackPanel Grid.Row="3" Grid.Column="0"
                                                   Orientation="Horizontal"
                                                    HorizontalAlignment="Left">

                                            <Grid>
                                                <Button
                                            Command="{Binding ElementName=meetingsListView, Path=DataContext.SetMeetingPendingCommand}"
                                            CommandParameter="{Binding}"
                                            Style="{StaticResource MaterialDesignFlatButton}"
                                            Margin="5"
                                            ToolTip="Mark as Pending"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                            Visibility="{Binding MeetingStatus, Converter={converters:MeetingStatusToStatusActionVisibilityConverter}, ConverterParameter='pending'}">
                                                    <materialDesign:PackIcon Kind="AccountPendingOutline"
                                                                     Foreground="DarkSlateGray"/>
                                                </Button>

                                                <Button
                                            Command="{Binding ElementName=meetingsListView, Path=DataContext.ReopenMeetingCommand}"
                                            CommandParameter="{Binding}"
                                            Style="{StaticResource MaterialDesignFlatButton}"
                                            Margin="5"
                                            ToolTip="Re-open case"
                                            HorizontalAlignment="Left"
                                            VerticalAlignment="Center"
                                             Visibility="{Binding MeetingStatus, Converter={converters:MeetingStatusToStatusActionVisibilityConverter}, ConverterParameter='open'}">
                                                    <materialDesign:PackIcon Kind="HeadRefreshOutline"
                                                                     Foreground="DarkSlateGray"/>
                                                </Button>
                                            </Grid>

                                            <CheckBox Content="Paperless"
                                                    HorizontalAlignment="Center"
                                                    Style="{StaticResource MaterialDesignFilterChipPrimaryOutlineCheckBox}"
                                                    IsChecked="{Binding Paperless}"/>

                                        </StackPanel>

                                        <Button Grid.Row="3" Grid.Column="1"
                                            HorizontalAlignment="Right"
                                                Margin="5"
                                                Background="Transparent" 
                                                materialDesign:ShadowAssist.ShadowEdges="None"
                                                materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                                BorderBrush="DarkSlateGray"
                                                BorderThickness="1"
                                                Command="{Binding ElementName=meetingsListView, Path=DataContext.OnErMeetingEditCommand}"
                                                CommandParameter="{Binding}">
                                            <StackPanel Orientation="Horizontal">
                                                <materialDesign:PackIcon Kind="CreateOutline" 
                                                                VerticalAlignment="Center"
                                                                Foreground="DarkSlateGray"/>
                                                <TextBlock Margin="10 0 0 0" Text="Submit" Foreground="DarkSlateGray"/>
                                            </StackPanel>
                                        </Button>


                                    </Grid>

                                </materialDesign:PopupBox>

                                <!-- Close case -->
                                <materialDesign:PopupBox 
                                     Background="Transparent"
                                    StaysOpen="True">

                                    <materialDesign:PopupBox.ToggleContent>

                                        <Border Background="Transparent" 
                                            Padding="10"
                                                ToolTip="Close meeting case without outcome"
                                            materialDesign:ShadowAssist.ShadowEdges="None"
                                            materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                            BorderThickness="0">

                                            <materialDesign:PackIcon Kind="CloseOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"/>

                                        </Border>

                                    </materialDesign:PopupBox.ToggleContent>

                                    <StackPanel Background="Transparent" Margin="10 0 10 0"
                                                Width="300"
                                                Orientation="Vertical">

                                        <TextBox 
                                            Text="{Binding ElementName=meetingsListView, Path=DataContext.ReasonForErClosure}"
                                            Background="Transparent"
                                            materialDesign:HintAssist.Hint="Reason for Closure"
                                            materialDesign:HintAssist.IsFloating="True"
                                            materialDesign:HintAssist.HelperText="* Mandatory"
                                            materialDesign:HintAssist.HelperTextFontSize="8"
                                            BorderThickness="0"
                                            Margin="5"
                                            TextWrapping="Wrap" />


                                        <Grid>

                                            <Button 
                                            Margin="-10 20 -10 -8"
                                                HorizontalContentAlignment="Center"
                                            Background="Transparent" 
                                            materialDesign:ShadowAssist.ShadowEdges="None"
                                            materialDesign:ShadowAssist.ShadowDepth="Depth0"
                                            BorderBrush="DarkSlateGray"
                                            BorderThickness="1"
                                            Command="{Binding ElementName=meetingsListView, Path=DataContext.OnMeetingCancelCommand}"
                                            CommandParameter="{Binding}">
                                                <StackPanel Orientation="Horizontal">
                                                    <materialDesign:PackIcon Kind="CreateOutline" 
                                                                 VerticalAlignment="Center"
                                                                 Foreground="DarkSlateGray"/>
                                                    <TextBlock Margin="10 0 0 0" Text="Submit" Foreground="DarkSlateGray"
                                                   FontSize="12"/>
                                                </StackPanel>
                                            </Button>
                                        </Grid>

                                    </StackPanel>

                                </materialDesign:PopupBox>

                            </StackPanel>

                        </Grid>

                    </Grid>

                </DataTemplate>
            </Setter.Value>
        </Setter>
    </Style>

    

</ResourceDictionary>